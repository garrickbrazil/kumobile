/*
 	This file is part of KetteringJS.

	KetteringJS is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    KetteringJS is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with KetteringJS.  If not, see <http://www.gnu.org/licenses/>.
*/
var KU={KetteringJS:{version:"v0.0.9",updated:"7/26/2015",name:"KetteringJS",license:"GPL3"}}
!function(t){function e(t,e){return this.title=t,this.mainHtml=e,this}var i={},r=null
i.retrieve=function(t,i,s){var n
n=0!=t?"http://my.kettering.edu/announcements?page="+t:"http://my.kettering.edu/announcements/",r=t,$.ajax({url:n,type:"GET",dataType:"html",success:function(t){var r=[]
$("<div>").html(t).find(".views-row").each(function(t){var i=$("h3:first",this).text(),s=$(this)
s.find("h3:first").remove(),r[t]=new e(i,s.html())}),i(r)},error:function(t,e,i){s(i)}})},i.nextPage=function(t,e){null==r?r=0:r++,i.retrieve(r,t,e)},i.previousPage=function(t,e){null==r?r=0:0>r-1?r=0:r--,i.retrieve(r,t,e)},t.Announcements=i}(KU),function(t){function e(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="NOPQRSTUVWXYZABCDEFGHIJKLMnopqrstuvwxyzabcdefghijklm0123456789",r=[],s="",n=0;n<=e.length;n++)r[e.substr(n,1)]=i.substr(n,1)
for(var n=0;n<=t.length;n++){var a=t.charAt(n)
s+=a in r?r[a]:a}return s}function i(t,e){this.name=t,this.valueId=e}function r(t,e){return this.message=t,this.weight=e,this}function s(t,e,i){return this.fullName=t,this.info=e,this.imgUrl=i,this}var n={},a=null,o=null
n.abort=function(){null!=o&&(o.abort(),o=null)},n.search=function(t,i,n,l,d,h,c){if(void 0==c)var c=0
if(null!=o)return void h("One search is already occurring. Please cancel first.")
a={page:c,firstName:t,lastName:i,ext:n,departmentId:l}
var u="http://my.kettering.edu/faculty-staff/directory?field_faculty_staff_first_value="+encodeURIComponent(t)+"&field_faculty_staff_last_value="+encodeURIComponent(i)+"&field_phone_extension_value="+n+"&tid="+l+"&page=0"+c
o=$.ajax({url:u,type:"GET",dataType:"html",success:function(t){var i=[],n=$("<div>").html(t).find(".directory-caption")
n.each(function(t){if($("img",this).length>0)var n=$("img",this).eq(0).attr("src")
else var n="images/default_directory_icon.jpg"
"/"==n[0]&&(n="http://my.kettering.edu"+n)
var a=$("h3",this).first().text(),o=[],l=0
$(".inside span",this).each(function(){var t=$(this).clone().children().remove().end().text()
$(this).hasClass("obfuscated")&&(t=t.split("").reverse().join(""),t=e(t)),""==t.replace(/\s+/g,"")||$(this).find(".tel").length>0||(o[l++]=new r(t,$(this).hasClass("bold")?"bold":""))}),i[t]=new s(a,o,n)}),o=null,d(i)},error:function(t,e,i){o=null,"abort"!=e&&h(i)}})},n.nextPage=function(t,e){return null==a?void e("Please search before you attempt to get Next Page"):void n.search(a.firstName,a.lastName,a.ext,a.departmentId,t,e,a.page+1)},n.previousPage=function(t,e){return null==a?void e("Please search before you attempt to get Previous Page"):a.page-1<0?void t([]):void n.search(a.firstName,a.lastName,a.ext,a.departmentId,t,e,a.page-1)},n.getDepartments=function(t,e){var r="http://my.kettering.edu/faculty-staff/directory?field_faculty_staff_first_value=&field_faculty_staff_last_value=&field_phone_extension_value=KUMOBILE&tid=All"
$.ajax({url:r,type:"GET",dataType:"html",success:function(e){var r=[],s=$("<div>").html(e).find("#edit-tid option")
s.each(function(t){var e=$(this).attr("value"),s=$(this).text()
r[t]=new i(s,e)}),t(r)},error:function(t){e(t)}})},t.Directory=n}(KU),function(t){function e(t,e){return this.title=t,this.mainHtml=e,this}function i(t,e,i,s,n,a,o,l,d){return this.title=t,this.location=e,this.time=i,this.month=s,this.dayOfTheMonth=n,this.dayOfTheWeek=a,this.tags=o,this.imgUrl=l,this.detailsUrl=d,this.getEvent=function(t,e){r.downloadEventDetails(d,t,e)},this}var r={},s=null
r.downloadEventDetails=function(t,i,r){var t="http://my.kettering.edu/"+t
$.ajax({url:t,type:"GET",dataType:"html",success:function(t){var r=$("<div>").html(t),s=r.find(".content.clearfix"),n=r.find(".title.inside").text(),a=new e(n,s)
i(a)},error:function(t,e,i){r(i)}})},r.retrieve=function(t,e,r){var n
n=0!=t?"http://my.kettering.edu/events?page="+t:"http://my.kettering.edu/events",s=t,$.ajax({url:n,type:"GET",dataType:"html",success:function(t){var r,s,n,a=[]
$("<div>").html(t).find(".views-row").each(function(t){if($("img",this).length>0)var e=$("img",this).eq(0).attr("src")
else var e=""
"/"==e[0]&&(e="http://my.kettering.edu"+e)
var o=$("h3",this).text(),l=$(".info .location",this).text(),d=$(".tags",this).text(),h=$("h3 a",this).attr("href")
if(2==$(".info .date-display-single",this).length)var c=$(".info .date-display-single",this).eq(0).text()+" - "+$(".info .date-display-single",this).eq(1).text()
else var c=$(".info .date-display-single",this).eq(0).text()
$(this).hasClass("views-row-1")&&(r=$(".datebox",this).find(".month").text(),n=$(".datebox",this).find(".lower .dow").text(),s=$(".datebox",this).find(".day").text(),r=r.replace("Jan","January"),r=r.replace("Feb","February"),r=r.replace("Mar","March"),r=r.replace("Apr","April"),r=r.replace("Jun","June"),r=r.replace("Jul","July"),r=r.replace("Aug","August"),r=r.replace("Sep","September"),r=r.replace("Oct","October"),r=r.replace("Nov","Novemeber"),r=r.replace("Dec","December")),a[t]=new i(o,l,c,r,s,n,d,e,h)}),e(a)},error:function(t,e,i){r(i)}})},r.nextPage=function(t,e){null==s?s=0:s++,r.retrieve(s,t,e)},r.previousPage=function(t,e){null==s?s=0:0>s-1?s=0:s--,r.retrieve(s,t,e)},t.Events=r}(KU),function(t){function e(t,e,i,r,s){this.title=t,this.author=e,this.callNumber=i,this.holdings=r,this.imgUrl=s}var i={},r=null,s=null,n=[{valueId:"GENERAL^SUBJECT^GENERAL^^words or phrase",name:"Words or Phrase"},{valueId:"AU^AUTHOR^AUTHORS^Author Processing^author",name:"Author"},{valueId:"TI^TITLE^SERIES^Title Processing^title",name:"Title"},{valueId:"SU^SUBJECT^SUBJECTS^^subject",name:"Subject"},{valueId:"SER^SERIES^SERIES^Title Processing^series",name:"Series"},{valueId:"PER^PERTITLE^SERIES^Title Processing^periodical title",name:"Periodical"}]
i.search=function(t,i,n,a,o){if(void 0!=o)var l="http://catalog.palnet.info"+o.action+"?firsthit=&lasthit=&form_type=JUMP%5E"+(20*o.page+1),d=o.page
else var l="http://elibrary.palnet.info/uhtbin/cgisirsi/x/0/0/57/5?library=KU&location=KUMAIN&match_on=KEYWORD&shadow=NO&user_id=kuweb&srchfield1="+encodeURIComponent(i)+"&searchdata1="+encodeURIComponent(t),d=0
s=$.ajax({url:l,type:"GET",dataType:"html",success:function(a){var o=[],l=$("<div>").html(a),h=l.find(".hit_list_row"),c=l.find("#hitlist").first().attr("action")
r={action:c,field:t,searchOptionId:i,page:d},h.each(function(t){if($(".hit_list_list_cover script",this).length>0){var i=$(".hit_list_list_cover script",this).eq(0).text().replace(/\s/g,"").replace("getHitCover('","").replace("');",""),r="",s=i.split("','")
8==s.length&&(r=s[0]+"isbn="+s[2].replace(/,.+/g,"")+"/SC.GIF&client="+s[1]+"&type=xw12&upc=&oclc="+s[4].replace(/,.+/g,""))}else var r=""
var n=$(".title",this).first().text().trim(),a=$(".author",this).first().text().trim(),l=$(".call_number",this).first().text().trim(),d=$(".holdings_statement",this).first().text().trim()
o[t]=new e(n,a,l,d,r)}),s=null,n(o)},error:function(t,e,i){s=null,"abort"!=e&&a(i)}})},i.nextPage=function(t,e){r.page++,i.search(r.field,r.searchOptionId,t,e,r)},i.getSearchOptions=function(){return n},i.abort=function(){null!=s&&(s.abort(),s=null)},t.Library=i}(KU),function(t){function e(t,e,i){return this.title=t,this.headerInfo=e,this.mainHtml=i,this}function i(t,e,i,s,n){return this.getArticle=function(t,e){r.downloadArticle(n,t,e)},this.title=t,this.author=e,this.date=i,this.imgUrl=s,this.detailsUrl=n,this}var r={},s=null
r.downloadArticle=function(t,i,r){var s="http://news.kettering.edu/"+t
$.ajax({url:s,type:"GET",dataType:"html",success:function(t){var r=$("<div>").html(t),s=r.find(".field.field-name-body.field-type-text-with-summary.field-label-hidden"),n=r.find(".news").text(),a=r.find(".info").text(),o=new e(n,a,s)
i(o)},error:function(t,e,i){r(i)}})},r.retrieve=function(t,e,r){var n
n=0!=t?"http://news.kettering.edu/news/current-news?page="+t:"http://news.kettering.edu/news/current-news",s=t,$.ajax({url:n,type:"GET",dataType:"html",success:function(t){var r=[]
$("<div>").html(t).find(".news-caption").each(function(t){if($("img",this).length>0)var e=$("img",this).eq(0).attr("src")
else var e=""
"/"==e[0]&&(e="http://news.kettering.edu"+e)
var s=$("h3",this).text(),n=$(".info .by",this).text(),a=$(".info .date",this).text(),o=$(".more",this).attr("href")
r[t]=new i(s,n,a,e,o)}),e(r)},error:function(t,e,i){r(i)}})},r.nextPage=function(t,e){null==s?s=0:s++,r.retrieve(s,t,e)},r.previousPage=function(t,e){null==s?s=0:0>s-1?s=0:s--,r.retrieve(s,t,e)},t.News=r}(KU),function(t){var e={}
e.JWEB={CatalogEntry:function(t,e,i,r,s,n,a,o,l,d,h,c,u,m){this.status=t,this.crn=e,this.courseId=i,this.section=r,this.campus=s,this.credits=n,this.title=a,this.days=o,this.time=l,this.capacity=d,this.active=h,this.professor=c,this.startDate=u,this.room=m},AwardYear:function(t,e){this.years=t,this.entries=e},AwardEntry:function(t,e,i,r,s,n){this.name=t,this.offered=e,this.accepted=i,this.declined=r,this.cancelled=s,this.paidToDate=n},AccountTerm:function(t,e,i,r,s){this.term=t,this.totalCharges=e,this.totalCredits=i,this.balance=r,this.entries=s},AccountEntry:function(t,e,i){this.code=t,this.description=e,this.total=i},EvalProgram:function(t,e,i){this.name=t,this.sourceId=e,this.programId=i},FinalGrade:function(t,e,i,r,s,n,a){this.crn=t,this.courseId=e,this.section=i,this.title=r,this.campus=s,this.grade=n,this.earnedCredits=a},EvalArea:function(t,e,i,r,s,n){this.met=t,this.name=e,this.requiredCredits=i,this.earnedCredits=r,this.gpa=s,this.requiredCourses=n},EvalCourse:function(t,e,i,r,s,n,a,o){this.met=t,this.name=e,this.takenCourseId=i,this.takenCourseTitle=r,this.takenTerm=s,this.takenCredits=n,this.takenGrade=a,this.details=o},Evaluation:function(t,e,i,r,s,n,a,o,l,d,h,c,u,m,f,p,v,g,x,$){this.fullName=t,this.idNumber=e,this.college=i,this.degree=r,this.level=s,this.majors=n,this.catalog=a,this.expectedGraduation=o,this.date=l,this.minors=d,this.concentrations=h,this.creditsMet=c,this.requiredCredits=u,this.usedCredits=m,this.transferCredits=f,this.overallGPAMet=v,this.programGPAMet=p,this.programGPA=g,this.overallGPA=x,this.evalAreas=$},Book:function(t,e,i,r,s){this.title=t,this.edition=e,this.imgUrl=i,this.author=r,this.isbn=s},Course:function(t,e,i,r,s,n,a,o,l,d,h,c){this.courseTitle=t,this.courseId=e,this.section=i,this.term=r,this.crn=s,this.professor=n,this.credits=a,this.campus=o,this.type=l,this.time=d,this.days=h,this.location=c},StudentInfo:function(t,e,i,r,s,n,a,o,l,d,h){this.fullName=t,this.idNumber=e,this.standing=i,this.transferCredits=r,this.regularCredits=s,this.program=n,this.college=a,this.major=o,this.concentration=l,this.minor=d,this.specialty=h},login:function(t,e,i,r){var s="https://kuxe.kettering.edu/CKU1/twbkwbis.P_ValLogin"
$.ajax({url:s,type:"POST",dataType:"html",success:function(){var s="https://kuxe.kettering.edu/CKU1/twbkwbis.P_ValLogin"
$.ajax({url:s,type:"POST",dataType:"html",data:{sid:t,PIN:e},success:function(t){var e=/.*<meta.*url=\/cku1\/twbkwbis\.P_GenMenu.*>.*/
e.test(t)?i():r("Bad user id / password")},error:function(t,e,i){r(i)}})},error:function(t,e,i){r(i)}})},logout:function(t,e){var i="https://kuxe.kettering.edu/CKU1/twbkwbis.P_Logout"
$.ajax({url:i,type:"POST",dataType:"html",success:function(){t()},error:function(t,i,r){e(r)}})},retrieveAccountSummary:function(t,i){var r="https://kuxe.kettering.edu/CKU1/bwskoacc.P_ViewAcct"
$.ajax({url:r,type:"GET",dataType:"html",success:function(r){if(KU.Student.JWEB.isErrorPage(r))return void i("Request failed")
var s=$("<div>").html(r),n=function(t){return t.text().trim().toLowerCase()},a=/[a-zA-Z]+\s+\d\d\d\d/,o=/\$0+(\.0+)?/,l="0",d=[],h=[],c="",u="",m="",f="",p="",v="",g="",x=""
$(".datadisplaytable",s).find("tr").each(function(){if(1==$("th",this).size()&&1==$("td",this).size()){var t=n($("th",this).eq(0)),i=$("td",this).eq(0).text().trim()
"account balance:"===t?l=i:"term charges:"===t?u=i:"term credits and payments:"===t?m=i:"term balance:"===t&&(f=i,d[d.length]=new e.JWEB.AccountTerm(c,u,m,f,h),h=[],c="",u="",m="",f="",p="",v="",g="",x="")}else if(1==$("th",this).size()&&0==$("td",this).size()){var t=$("th",this).eq(0).text().trim()
a.test(t)&&(c=t)}else 5==$("td",this).size()?(v=$("td",this).eq(0).text().trim(),g=$("td",this).eq(1).text().trim(),charge=$("td",this).eq(2).text().trim(),credit=$("td",this).eq(3).text().trim(),x=""==charge?credit:o.test(charge)?charge:"-"+charge,h[h.length]=new e.JWEB.AccountEntry(v,g,x)):5==$("td",this).size()&&(v=$("td",this).eq(0).text().trim(),g=$("td",this).eq(1).text().trim(),charge=$("td",this).eq(2).text().trim(),credit=$("td",this).eq(3).text().trim(),x=""==charge?credit:o.test(charge)?charge:"-"+charge,h[h.length]=new e.JWEB.AccountEntry(v,g,x))}),t(l,d)},error:function(t,e,r){i(r)}})},retrieveCurrentHolds:function(t,e){var i="http://kuxe.kettering.edu/CKU1/bwskoacc.P_ViewHold"
$.ajax({url:i,type:"GET",dataType:"html",success:function(i){if(KU.Student.JWEB.isErrorPage(i))return void e("Request failed")
var r=$("<div>").html(i),s=!1
$("table.plaintable",r).each(function(){s||"This layout table holds message information"!=$(this).attr("summary").trim()||(t($(this).html()),s=!0)}),s||t("Nothing to show!")},error:function(t,i,r){e(r)}})},retrieveTranscript:function(t,e){var i="https://kuxe.kettering.edu/CKU1/ku_web_trans.view_transcript?tprt=SHRTRTC&levl=U"
$.ajax({url:i,type:"POST",dataType:"html",success:function(i){if(KU.Student.JWEB.isErrorPage(i))return void e("Request failed")
var r=$("<div>").html(i)
t(r.html())},error:function(t,i,r){e(r)}})},retrieveAwardHistory:function(t,i){var r="https://kuxe.kettering.edu/CKU1/bwrkrhst.P_DispAwdHst"
$.ajax({url:r,type:"GET",dataType:"html",success:function(r){if(KU.Student.JWEB.isErrorPage(r))return void i("Request failed")
var s=$("<div>").html(r),n=/[a-zA-Z\s]+\s([a-zA-Z]+\s\d\d\d\d\sto\s[a-zA-Z]+\s\d\d\d\d)/,a=[]
s.find("table.datadisplaytable").each(function(){var t="",i=[]
groups=n.exec($("caption.captiontext",this).text().trim()),2==groups.length&&(t=groups[1]),$("tr",this).each(function(){var t=$("td",this)
if(7==t.size()){var r="",s="",n="",a="",o="",l=""
r=t.eq(0).text().trim(),s=t.eq(1).text().trim(),n=t.eq(2).text().trim(),a=t.eq(3).text().trim(),o=t.eq(4).text().trim(),l=t.eq(6).text().trim(),i[i.length]=new e.JWEB.AwardEntry(r,s,n,a,o,l)}}),a[a.length]=new e.JWEB.AwardYear(t,i)}),t(a)},error:function(t,e,r){i(r)}})},retrieveScheduleCatalog:function(t,i,r){var s="https://kuxe.kettering.edu/CKU1/bwskfcls.P_GetCrse_Advanced?rsts=dummy&crn=dummy&term_in="+t+"&sel_subj=dummy&sel_day=dummy&sel_schd=dummy&sel_insm=dummy&sel_camp=dummy&sel_levl=dummy&sel_sess=dummy&sel_instr=dummy&sel_ptrm=dummy&sel_attr=dummy&sel_subj=SSCI&sel_subj=ACCT&sel_subj=BINF&sel_subj=BIOL&sel_subj=BUSN&sel_subj=CHME&sel_subj=CHEM&sel_subj=CHN&sel_subj=COMM&sel_subj=CE&sel_subj=CS&sel_subj=CUE&sel_subj=ECON&sel_subj=ECE&sel_subj=EE&sel_subj=FINC&sel_subj=FYE&sel_subj=GER&sel_subj=HIST&sel_subj=HUMN&sel_subj=IME&sel_subj=ISYS&sel_subj=INEN&sel_subj=MFGO&sel_subj=LS&sel_subj=LIT&sel_subj=MGMT&sel_subj=MRKT&sel_subj=MATH&sel_subj=MECH&sel_subj=MEDI&sel_subj=PHIL&sel_subj=PHYS&sel_subj=SSCI&sel_subj=SOC&sel_crse=&sel_title=&sel_from_cred=&sel_to_cred=&sel_instr=%25&begin_hh=0&begin_mi=0&begin_ap=0&end_hh=0&end_mi=0&end_ap=a&SUB_BTN=Section+Search&path=1"
$.ajax({url:s,type:"GET",dataType:"html",success:function(t){if(KU.Student.JWEB.isErrorPage(t))return void r("Request failed")
var s=$("<div>").html(t),n=[],a="",o="",l="",d="",h="",c="",u="",m="",f="",p="",v="",g="",x="",b=""
s.find("table.datadisplaytable tr").each(function(){var t=$("td",this)
17==t.size()&&(""!=t.eq(1).text().trim()&&(a=t.eq(0).text().trim(),o=t.eq(1).text().trim(),l=t.eq(2).text().trim()+"-"+t.eq(3).text().trim(),d=t.eq(4).text().trim(),h=t.eq(5).text().trim(),c=t.eq(6).text().trim(),u=t.eq(7).text().trim()),m=t.eq(8).text().trim(),f=t.eq(9).text().trim(),p=t.eq(10).text().trim(),v=t.eq(11).text().trim(),g=t.eq(13).text().trim(),x=t.eq(14).text().trim(),b=t.eq(15).text().trim(),n[n.length]=new e.JWEB.CatalogEntry(a,o,l,d,h,c,u,m,f,p,v,g,x,b))}),i(n)},error:function(t,e,i){r(i)}})},retrieveScheduleTerms:function(t,e){var i="https://kuxe.kettering.edu/CKU1/bwskflib.P_SelDefTerm"
$.ajax({url:i,type:"GET",dataType:"html",success:function(i){if(KU.Student.JWEB.isErrorPage(i))return void e("Request failed")
var r=$("<div>").html(i),s=[]
r.find("#term_id option").each(function(){s[s.length]=$(this).val()}),t(s)},error:function(t,i,r){e(r)}})},retrieveFinalTerms:function(t,e){var i="https://kuxe.kettering.edu/CKU1/wbwskogrd.P_ViewTermGrde"
$.ajax({url:i,type:"GET",dataType:"html",success:function(i){if(KU.Student.JWEB.isErrorPage(i))return void e("Request failed")
var r=$("<div>").html(i),s=[]
r.find("#term_id option").each(function(){s[s.length]=$(this).val()}),t(s)},error:function(t,i,r){e(r)}})},retrieveFinalGrades:function(t,i,r){var s="https://kuxe.kettering.edu/CKU1/wbwskogrd.P_ViewGrde?term_in="+t+"&inam=on&snam=on&sgid=on"
$.ajax({url:s,type:"GET",dataType:"html",success:function(t){if(KU.Student.JWEB.isErrorPage(t))return void r("Request failed")
var s=$("<div>").html(t),n=function(t){return t.text().trim().toLowerCase()},a="",o="",l="",d=[]
s.find("table.datadisplaytable").each(function(){$(this).find("tr").each(function(){if(1==$("th",this).size()&&1==$("td",this).size()&&(label=n($("th",this).eq(0)),info=$("td",this).eq(0).text().trim(),"term:"===label&&(a=info)),12==$("td",this).size()){children=$("td",this)
var t=children.eq(0).text().trim(),i=children.eq(1).text().trim()+"-"+children.eq(2).text().trim(),r=children.eq(3).text().trim(),s=children.eq(4).text().trim(),h=children.eq(5).text().trim(),c=children.eq(6).text().trim(),u=children.eq(8).text().trim()
d[d.length]=new e.JWEB.FinalGrade(t,i,r,s,h,c,u)}1==$("th",this).size()&&5==$("td",this).size()&&(label=n($("th",this).eq(0)),gpaInfo=$("td",this).eq(4).text().trim(),"current term:"===label&&(o=gpaInfo),"overall:"===label&&(l=gpaInfo))})}),i(a,o,l,d)},error:function(t,e,i){r(i)}})},generateEvaluation:function(t,e,i,r,s){var n="https://kuxe.kettering.edu/CKU1/bwckcapp.P_Submit?source1="+t+"&program="+e+"&ctlg_term="+i+"&eval_term=999999&dflt_ip=Y"
$.ajax({url:n,type:"GET",dataType:"html",success:function(t){return KU.Student.JWEB.isErrorPage(t)?void s("Request failed"):void r()},error:function(t,e,i){s(i)}})},retrieveEvalPrograms:function(t,i,r){var s="https://kuxe.kettering.edu/CKU1/bwckcapp.P_DispEvalTerm?term_in="+t
$.ajax({url:s,type:"GET",dataType:"html",success:function(t){if(KU.Student.JWEB.isErrorPage(t))return void r("Request failed")
var s=$("<div>").html(t)
programs=[]
var n=s.find("input[name=source1]").attr("value")
s.find("table.dataentrytable").each(function(){programId=$("input[name=program]",this).attr("value"),name=$("tr:first td:last",this).text().trim(),programs[programs.length]=new e.JWEB.EvalProgram(name,n,programId)}),i(programs)},error:function(t,e,i){r(i)}})},retrieveEvaluation:function(t,i,r,s){var n="https://kuxe.kettering.edu/CKU1/bwckcapp.P_DispCurrent?term_in="+t
$.ajax({url:n,type:"GET",dataType:"html",success:function(t){if(KU.Student.JWEB.isErrorPage(t))return void s("Request failed")
var n="https://kuxe.kettering.edu/CKU1/bwckcapp.P_VerifyDispEvalViewOption?request_no="+i+"&program_summary=3"
$.ajax({url:n,type:"GET",dataType:"html",success:function(t){if(KU.Student.JWEB.isErrorPage(t))return void s("Request failed")
var i=$("<div>").html(t),n=function(t){return t.text().trim().toLowerCase()}
if(i.find("table.datadisplaytable").size()<2)return void s("Invalid evaluation page found.")
var a,o="",l="",d="",h="",c="",u="",m="",f="",p="",v="",g=/(\d\d\d\d+)\s(.*)\n.*/,x=g.exec($(".staticheaders",i).text().trim())
p=3===x.length?x[2]:"",v=3===x.length?x[1]:"",i.find("table.datadisplaytable").eq(0).find("tr").each(function(t){var e=$("th.ddlabel, td.dddefault",this)
for(t=0;t+1<e.size();t+=2)"college :"===n(e.eq(t))&&(o=e.eq(t+1).text().trim()),"degree :"===n(e.eq(t))&&(l=e.eq(t+1).text().trim()),"level :"===n(e.eq(t))&&(d=e.eq(t+1).text().trim()),"majors :"===n(e.eq(t))&&(h=e.eq(t+1).text().trim().replace(/\n+/g,", ")),"catalog term :"===n(e.eq(t))&&(c=e.eq(t+1).text().trim()),"expected graduation date :"===n(e.eq(t))&&(a=e.eq(t+1).text().trim()),"results as of :"===n(e.eq(t))&&(u=e.eq(t+1).text().trim()),"minors :"===n(e.eq(t))&&(m=e.eq(t+1).text().trim().replace(/\n+/g,", ")),"concentrations :"===n(e.eq(t))&&(f=e.eq(t+1).text().trim().replace(/\n+/g,", ")),f=f.replace(/\n+/g,", ")})
var b="",y="",_="",q="",E="",w="",T="",k=""
i.find("table.datadisplaytable").eq(1).find("tr").each(function(){1==$("th",this).size()&&5==$("td",this).size()&&("total required :"===n($("th",this))&&(b="yes"===n($("td",this).eq(0)),y=$("td",this).eq(1).text().trim(),_=$("td",this).eq(2).text().trim()),"program gpa :"===n($("th",this))&&("yes"===n($("td",this).eq(0))?E=!0:"no"===n($("td",this).eq(0))&&(E=!1),T=$("td",this).eq(2).text().trim()),"overall gpa :"===n($("th",this))&&("yes"===n($("td",this).eq(0))?w=!0:"no"===n($("td",this).eq(0))&&(w=!1),k=$("td",this).eq(2).text().trim()),"transfer :"===n($("th",this))&&(q=$("td",this).eq(2).text().trim()))})
for(var C=[],I=/([a-zA-Z\s]+)\s*\(\s*(\d+\.\d+)\scredits\s*\)\s*-\s*(.*)/,B=2;B<i.find("table.datadisplaytable").size();B++){var S="",j="",P="",U="",A="",z="",G="",K="",N="",J="",y="",R="",O="",W=[],D=[]
i.find("table.datadisplaytable").eq(B).find("tr").each(function(){if(1==$("th",this).size()&&1==$("td",this).size()&&I.test($("td",this).eq(0).text().trim())){groups=I.exec($("td",this).eq(0).text().trim())
for(var t in D){var i=D[t]
i.details=G,W[W.length]=i}D=[],S="",j="",P="",U="",A="",z="",K="",G="",J=groups[1],y=groups[2],N="Met"==groups[3]}else if(17==$("td",this).size()){children=$("td",this)
var r=n(children.eq(1))
for(var t in D){var i=D[t]
i.details=G,W[W.length]=i}D=[],S="",j="",P="",U="",A="",z="",K="",G="",S="yes"===n(children.eq(0)),j=children.eq(3).text().trim()+"-"+children.eq(5).text().trim(),P=children.eq(10).text().trim()+"-"+children.eq(11).text().trim(),U=children.eq(12).text().trim(),A=children.eq(9).text().trim(),z=children.eq(14).text().trim(),K=children.eq(15).text().trim(),(""===j||"-"===j)&&(j=children.eq(2).text().trim()),""!=j&&(W[W.length]=new e.JWEB.EvalCourse(S,j,P,U,A,z,K,G),S="",j="",P="",U="",A="",z="",K="",G="")}else if(12==$("td",this).size()){children=$("td",this)
for(var t in D){var i=D[t]
i.details=G,W[W.length]=i}D=[],S="",j="",P="",U="",A="",z="",K="",G="",S="yes"===n(children.eq(0)),j=children.eq(3).text().trim(),P=children.eq(5).text().trim()+"-"+children.eq(6).text().trim(),U=children.eq(7).text().trim(),A=children.eq(4).text().trim(),z=children.eq(9).text().trim(),K=children.eq(10).text().trim(),(""===j||"-"===j)&&(j=children.eq(2).text().trim()),""!=j&&(D[D.length]=new e.JWEB.EvalCourse(S,j,P,U,A,z,K,G),S="",P="",U="",A="",z="",K="",G="")}else if(10==$("td",this).size()&&"8"==$("td",this).eq(9).attr("colspan")){children=$("td",this)
var r=n(children.eq(1))
for(var t in D){var i=D[t]
i.details=G,W[W.length]=i}D=[],S="",j="",P="",U="",A="",z="",K="",G="",S="yes"===n(children.eq(0)),j=children.eq(3).text().trim()+"-"+children.eq(5).text().trim(),(""===j||"-"===j)&&(j=children.eq(2).text().trim()),""==j||"("!==r&&")"!==r&&")and("!==r&&"and"!==r||(W[W.length]=new e.JWEB.EvalCourse(S,j,P,U,A,z,K,G),S="",j="",P="",U="",A="",z="",K="",G="")}else if(10==$("td",this).size())children=$("td",this),S=null,G=children.eq(1).text().trim(),P=children.eq(3).text().trim()+"-"+children.eq(4).text().trim(),U=children.eq(5).text().trim(),A=children.eq(2).text().trim(),z=children.eq(7).text().trim(),K=children.eq(8).text().trim(),""!=j&&(D[D.length]=new e.JWEB.EvalCourse(S,j,P,U,A,z,K,G),S="",P="",U="",A="",z="",K="")
else if(3==$("td",this).size()&&"8"==$("td",this).eq(2).attr("colspan"))children=$("td",this),G=children.eq(1).text().trim()
else if(8==$("td",this).size())children=$("td",this),S=null,P=children.eq(1).text().trim()+"-"+children.eq(2).text().trim(),U=children.eq(3).text().trim(),A=children.eq(0).text().trim(),z=children.eq(5).text().trim(),K=children.eq(6).text().trim(),""!=j&&(D[D.length]=new e.JWEB.EvalCourse(S,j,P,U,A,z,K,G),S="",P="",U="",A="",z="",K="")
else if(2==$("td",this).size()){if(children=$("td",this),")"===children.eq(1).text().trim())for(var t in D){var i=D[t]
i.details=G,W[W.length]=i}D=[],S="",j="",P="",U="",A="",z="",K="",G=""}else if(5==$("td",this).size()&&"8"==$("td",this).eq(4).attr("colspan")){children=$("td",this)
for(var t in D){var i=D[t]
i.details=G,W[W.length]=i}D=[],S="",j="",P="",U="",A="",z="",K="",G="",S="yes"===n(children.eq(0)),j=children.eq(3).text().trim(),P=children.eq(5).text().trim()+"-"+children.eq(6).text().trim(),(""===j||"-"===j)&&(j=children.eq(2).text().trim()),""!=j&&(D[D.length]=new e.JWEB.EvalCourse(S,j,P,U,A,z,K,G),S="",P="",U="",A="",z="",K="",G="")}else if(4==$("td",this).size()){children=$("td",this)
for(var t in D){var i=D[t]
i.details=G,W[W.length]=i}D=[],S="",j="",P="",U="",A="",z="",K="",G="",R=children.eq(1).text().trim(),O=children.eq(2).text().trim()}}),""!=J&&(C[C.length]=new e.JWEB.EvalArea(N,J,y,R,O,W))}evaluation=new e.JWEB.Evaluation(p,v,o,l,d,h,c,a,u,m,f,b,y,_,q,E,w,T,k,C),r(evaluation)},error:function(t,e,i){s(i)}})},error:function(t,e,i){s(i)}})},retrieveEvaluationList:function(t,e,i){var r="https://kuxe.kettering.edu/CKU1/bwcksmmt.P_DispPrevEval?term_in="+t
$.ajax({url:r,type:"GET",dataType:"html",success:function(t){if(KU.Student.JWEB.isErrorPage(t))return void i("Request failed")
var r=$("<div>").html(t)
if(r.find(".datadisplaytable tr").size()<2)return void e(0)
var s=[]
r.find(".datadisplaytable tr").each(function(){var t=$("td",this)
3==t.size()&&(s[s.length]=t.eq(1).text().trim())}),e(s)},error:function(t,e,r){i(r)}})},isErrorPage:function(t){var e=$("<div></div>").html(t)
return $("#UserID",e).length>0&&$("#PIN",e).length>0},retrieveStudentInfo:function(t,e,i){var r="https://kuxe.kettering.edu/CKU1/bwskrsta.P_RegsStatusDisp?term_in="+t
$.ajax({url:r,type:"GET",dataType:"html",success:function(t){if(KU.Student.JWEB.isErrorPage(t))return void i("Request failed")
var r,s,n,a,o,l,d,h,c,u,m,f=$("<div>").html(t),p=/(\d\d\d\d+)\s(.*)\n.*/,v=/Your\sClass\sfor\sregistration\spurposes\sis\s([a-zA-Z]+\s\d)\..*/,g=p.exec($(".staticheaders",f).text().trim())
r=null!=g&&3===g.length?g[2]:"",s=null!=g&&3===g.length?g[1]:"",n="",$(".pldefault",f).each(function(){var t=$(this).text().trim()
v.test(t)&&(n=v.exec(t)[1])}),a="",o="",l="",d="",h="",c="",u="",m=""
var x=function(t){return t.text().trim().toLowerCase()}
$(".datadisplaytable tr",f).each(function(t){if(3===$("td",this).size()){var e=$("td",this)
"undergraduate"===x(e.eq(0))&&"transfer"===x(e.eq(1))&&(a=e.eq(2).text().trim()),"undergraduate"===x(e.eq(0))&&"institutional"===x(e.eq(1))&&(o=e.eq(2).text().trim())}else"current program"===x($(this))&&t+1<$(".datadisplaytable tr",f).size()?l=$(".datadisplaytable tr",f).eq(t+1).text().trim():1===$("td",this).size()&&1===$("th",this).size()&&("college:"===x($("th",this).eq(0))?d=$("td",this).text().trim():"major:"===x($("th",this).eq(0))?(""!=h&&(h+=", "),h+=$("td",this).text().trim()):"minor:"===x($("th",this).eq(0))?(""!=u&&(u+=", "),u+=$("td",this).text().trim()):"concentration:"===x($("th",this).eq(0))?(""!=c&&(c+=", "),c+=$("td",this).text().trim()):"major concentration:"===x($("th",this).eq(0))&&(""!=m&&(m+=", "),m+=$("td",this).text().trim()))})
var b=new KU.Student.JWEB.StudentInfo(r,s,n,a,o,l,d,h,c,u,m)
e(b)},error:function(t,e,r){i(r)}})},retrieveRequiredBooks:function(t,e,i,r,s){var n="http://www.bkstr.com/webapp/wcs/stores/servlet/en/ketteringstore/textbooks-and-course-materials",a="https://www.bkstr.com/webapp/wcs/stores/servlet/LocateCourseMaterialsServlet?requestType=TERMS&storeId=345405&demoKey=d&programId=3663",o=/([a-zA-Z]+)[\-\s](\d+)/,l="",d=""
return o.test(e)?(groups=o.exec(e),l=groups[1],d=groups[2],i=parseInt(i),void $.ajax({url:n,type:"GET",dataType:"html",timeout:25e3,success:function(){$.ajax({url:a,type:"GET",dataType:"html",timeout:25e3,success:function(e){if(e=e.replace("<script>parent.doneLoaded('","").replace("')</script>",""),termObj=JSON.parse(e),null==termObj||void 0==termObj)return void s("Failure to get terms for required books.")
for(var n=!1,a=0;a<termObj.data.length;a++)if(void 0!=termObj.data[a][t]){var o=termObj.data[a][t]
n=!0
var h="http://www.bkstr.com/webapp/wcs/stores/servlet/CourseMaterialsResultsView?catalogId=10001&categoryId=9604&storeId=345405&langId=-1&programId=3663&termId="+o+"&divisionDisplayName=%20&departmentDisplayName="+l+"&courseDisplayName="+l+"%20"+d+"&sectionDisplayName="+i+"&demoKey=d&purpose=browse"
$.ajax({url:h,type:"GET",dataType:"html",timeout:25e3,success:function(t){var e=$("<div>").html(t),i=[],s=[]
$("#material-group-list_REQUIRED_1_1 li",e).each(function(){$("h3.material-group-title",this).find("span").remove()
var t=$("h3.material-group-title",this).text().trim()
$("span#materialAuthor",this).find("strong").remove()
var e=$("span#materialAuthor",this).text().trim()
$("span#materialEdition",this).find("strong").remove()
var r=$("span#materialEdition",this).text().trim()
$("span#materialISBN",this).find("strong").remove()
var s=$("span#materialISBN",this).text().trim(),n=$("span#materialTitleImage img:first",this).attr("src")
i[i.length]=new KU.Student.JWEB.Book(t,r,n,e,s)}),$("#material-group-list_RECOMMENDED_1_1 li",e).each(function(){$("h3.material-group-title",this).find("span").remove()
var t=$("h3.material-group-title",this).text().trim()
$("span#materialAuthor",this).find("strong").remove()
var e=$("span#materialAuthor",this).text().trim()
$("span#materialEdition",this).find("strong").remove()
var i=$("span#materialEdition",this).text().trim()
$("span#materialISBN",this).find("strong").remove()
var r=$("span#materialISBN",this).text().trim(),n=$("span#materialTitleImage img:first",this).attr("src")
s[s.length]=new KU.Student.JWEB.Book(t,i,n,e,r)}),r(i,s)},error:function(t,e,i){s(i)}})}return n?void 0:void r([])},error:function(t,e,i){s(i)}})},error:function(t,e,i){s(i)}})):void s("Please provide valid course id")},retrieveSchedule:function(t,e,i){var r="https://kuxe.kettering.edu/CKU1/bwskfshd.P_CrseSchdDetl?term_in="+t
$.ajax({url:r,type:"GET",dataType:"html",success:function(t){if(KU.Student.JWEB.isErrorPage(t))return void i("Request failed")
for(var r=$("<div>").html(t),s=$("table.datadisplaytable",r),n=[],a=0;a+1<s.size();a+=2){var o,l,d,h,c,u,m,f,p,v,g,x,b=s.eq(a),y=s.eq(a+1)
courseTitlePattern=/(.*)\s-\s(.*\s.*)\s-\s(\d\d)/
var _=function(t){return t.text().trim().toLowerCase()}
if(courseTitlePattern.test(b.find("caption:first").text().trim())){var q=courseTitlePattern.exec(b.find("caption:first").text().trim())
if(o=q[1],l=q[2].replace(" ","-"),d=q[3],h="",c="",u="",m="",f="",$("tbody tr",b).each(function(){1==$("th",this).size()&&1==$("td",this).size()&&("associated term:"===_($("th",this))?h=$("td",this).text().trim():"crn:"===_($("th",this))?c=$("td",this).text().trim():"assigned instructor:"===_($("th",this))?u=$("td",this).text().trim():"credits:"===_($("th",this))?m=$("td",this).text().trim():"campus:"===_($("th",this))&&(f=$("td",this).text().trim()))}),p="",v="",g="",x="",y.find("tr").size()>1)for(var E=1;E<y.find("tr").size();E++){var w=y.find("tr").eq(0),T=y.find("tr").eq(E)
w.find("th").size()==T.find("td").size()&&$("th",w).each(function(t){"schedule type"===_($(this))?p=$("td",T).eq(t).text().trim():"time"===_($(this))?v=$("td",T).eq(t).text().trim():"days"===_($(this))?g=$("td",T).eq(t).text().trim():"where"===_($(this))&&(x=$("td",T).eq(t).text().trim())}),n[n.length]=new KU.Student.JWEB.Course(o,l,d,h,c,u,m,f,p,v,g,x)}}}e(n)},error:function(t,e,r){i(r)}})}},e.BB={Contact:function(t,e,i){this.firstName=t,this.lastName=e,this.email=i},Grade:function(t,e,i,r,s,n,a){this.title=t,this.grade=e,this.pointsPossible=i,this.dueDate=r,this.postedDate=s,this.status=n,this.additionalInfo=a},Tree:function(t,e,i,r){return this.bbId=t,this.contentId=e,this.folders=i,this.items=r,this},Folder:function(t,i,r,s){return this.bbId=t,this.contentId=i,this.name=r,this.details=s,this.getContentTree=function(t,i){e.BB.retrieveContentTree(this.bbId,this.contentId,t,i)},this},Item:function(t,e,i){return this.name=t,this.details=e,this.fullBBId=i,this},Course:function(t,i,r,s,n,a,o,l){return this.courseId=t,this.term=i,this.crn=r,this.section=s,this.courseTitle=n,this.days=a,this.time=o,this.bbId=l,this.getContentTree=function(t,i){e.BB.retrieveContentTree(this.bbId,"",t,i)},this.getRoster=function(t,e){KU.Student.BB.retrieveRoster(this.bbId,t,e)},this.getGrades=function(t,e){KU.Student.BB.retrieveGrades(this.bbId,t,e)},this},retrieveGrades:function(t,i,r){var s="https://kettering.blackboard.com/webapps/bb-mygrades-BBLEARN/myGrades?course_id="+t+"&stream_name=mygrades"
$.ajax({url:s,type:"GET",dataType:"html",success:function(t){var r=$("<div>").html(t),s=[]
$("#grades_wrapper > div.row",r).each(function(){var t,i,r,n,a,o,l
t=$(".cell.gradable",this).clone().children().remove().end().text().trim(),""==t&&(t=$(".cell.gradable :first-child",this).text().trim()),i=$(".cell.grade > .grade",this).text().trim(),r=$(".cell.grade > .pointsPossible",this).text().trim().replace("/",""),n=$(".cell.gradable > .activityType",this).text().trim().replace("DUE:s",""),a=$(".cell.activity > .lastActivityDate",this).text().trim(),o=$(".cell.activity > .activityType",this).text().trim(),l="",$(".eval-links input.genericButton",this).each(function(){var t=$(this).attr("onclick"),e=/mygrades\.showInLightBox.*div.*<p>(.*)<\/p>.*/
e.test(t)&&(""!=l&&(l+="\n"),l+=e.exec(t)[1])}),s[s.length]=new e.BB.Grade(t,i,r,n,a,o,l)}),i(s)},error:function(t,e,i){r(i)}})},retrieveRoster:function(t,i,r){var s="https://kettering.blackboard.com/webapps/blackboard/execute/searchRoster?showAll=true&action=sort&userInfoSearchOperatorString=Contains&courseId="+t+"&sortCol=column1&sortDir=ASCENDING&course_id="+t+"&userInfoSearchKeyString=FIRSTNAME&startIndex=0"
$.ajax({url:s,type:"GET",dataType:"html",success:function(t){var r=$("<div>").html(t),s=[]
r.find("#listContainer_databody tr").each(function(){var t,i,r,n=$("th, td",this)
3==n.size()&&(i=n.eq(0).find("span:first").text().trim(),t=n.eq(1).text().trim(),r=n.eq(2).text().trim(),s[s.length]=new e.BB.Contact(t,i,r))}),i(s)},error:function(t,e,i){r(i)}})},retrieveContentTree:function(t,i,r,s){var n,a,o=i
""===i?(n="https://kettering.blackboard.com/webapps/blackboard/execute/course/menuFolderViewGenerator?initTree=true&itemId=&storeScope=Session&course_id="+t+"&displayMode=courseMenu_newWindow&editMode=false&openInParentWindow=true",a=!0):(n="https://kettering.blackboard.com/webapps/blackboard/content/listContent.jsp?course_id="+t+"&content_id="+i,a=!1),$.ajax({url:n,type:"GET",dataType:"html",success:function(i){var n,l,d
if(n=[],l=[],a){var h,c
try{h=JSON.parse(i)}catch(u){return d=new e.BB.Tree(t,o,n,l),void r(d)}h.children.length>0&&(c=h.children[0].children)
for(var m=0;m<c.length;m++){var f=c[m],p=/.*ReferredToType:CONTENT:::(_\d\d+_\d+)/
if(f.hasChildren&&p.test(f.id)){var v=$("<div>").html(f.contents).find("a")
if(v.size()>0){var g=v.attr("title"),x=p.exec(f.id)[1]
n[n.length]=new e.BB.Folder(t,x,g,"")}}}}else{var b=$("<div>").html(i)
if(!e.BB.isLoggedIn(b))return void s("Check login.")
var y=/.*folder_on.*/,_=/.*document_on.*/,q=/.*textbookLogo.*/,E=/contentListItem:(_\d\d+_\d+)/,w=$(".courseId",b).text()
b.find("#content_listContainer > li").each(function(){if(E.test($(this).attr("id"))){var i=$("> img",this).attr("src"),r=E.exec($(this).attr("id"))[1],s=$("#"+r,this).text().trim(),a=$("> div.details",this).html()
y.test(i)?n[n.length]=new e.BB.Folder(t,r,s,a):_.test(i)||q.test(i)?l[l.length]=new e.BB.Item(s,a,w):0==$("> img",this).size()&&(l[l.length]=new e.BB.Item(s,a,w))}})}d=new e.BB.Tree(t,o,n,l),r(d)},error:function(t,e,i){s(i)}})},logout:function(t,i){var r="https://kettering.blackboard.com/webapps/login?action=logout"
$.ajax({url:r,type:"POST",dataType:"html",success:function(r){var s=$("<div>").html(r)
e.BB.isLoggedIn(s)?i("Does not appear to have logged out!"):t()},error:function(t,e,r){i(r)}})},login:function(t,i,r,s){var n="https://kettering.blackboard.com/webapps/login/"
$.ajax({url:n,type:"POST",dataType:"html",data:{user_id:t,password:i,login:"Login",action:"login",new_loc:""},success:function(t){var i=$("<div>").html(t)
e.BB.isLoggedIn(i)?r():s("Incorrect username or password.")},error:function(t,e,i){s(i)}})},checkLogIn:function(t,i){var r="https://kettering.blackboard.com/webapps/blackboard/execute/editUser?context=self_modify"
$.ajax({url:r,type:"GET",dataType:"html",success:function(i){var r=$("<div>").html(i)
e.BB.isLoggedIn(r)?t(!0,$("#userName",r).attr("value")):t(!1,"")},error:function(t,e,r){i(r)}})},isLoggedIn:function(t){return t.find(".logout-link").size()>0},downloadCourses:function(t,i){var r="https://kettering.blackboard.com/webapps/portal/execute/tabs/tabAction?action=refreshAjaxModule&modId=_4_1&tabId=_1_1&tab_tab_group_id=_1_1"
$.ajax({url:r,type:"GET",dataType:"html",success:function(r){var s=$("<div>").html(r)
if(1!=s.find("contents").size())return void i("Check login.")
var n=[]
s.find("contents li a").each(function(){var t=$(this).attr("href"),i=$(this).text(),r=/.*&id=(_\d+_\d+).*/,s=/([a-zA-Z]+-\d\d\d)-(\d\d\d\d\d\d)-(\d\d\d\d\d):\s[a-zA-Z]+-\d\d\d-(\d\d[a-zA-Z]?):\s(.+)\s-\s[a-zA-Z]+\s([a-zA-Z]+)\s(\d\d?:\d\d-\d\d?:\d\d).*/,a=/([a-zA-Z]+-\d\d\d)-(\d\d\d\d\d\d)-(\d\d\d\d+):\s[a-zA-Z]+-\d\d\d:\s(.+)\s-\s[a-zA-Z]+/
if(s.test(i)&&r.test(t)){var o,l,d,h,c,u,m,f,p=r.exec(t)[1]
o=s.exec(i),l=o[1],d=o[2],h=o[3],c=o[4],u=o[5],m=o[6],f=o[7],n[n.length]=new e.BB.Course(l,d,h,c,u,m,f,p)}else if(a.test(i)&&r.test(t)){var o,l,d,h,c,u,m,f,p=r.exec(t)[1]
o=a.exec(i),l=o[1],d=o[2],h=o[3],u=o[4],c="TBD",m="TBD",f="TBD"
var v=new e.BB.Course(l,d,h,c,u,m,f,p)
"COOP"!=l&&(n[n.length]=v)}}),t(n)},error:function(t,e,r){i(r)}})}},t.Student=e}(KU),function(t){function e(t,e,i,r){this.name=t,this.code=e,this.city=i,this.state=r}function i(t,e,i,r,s,n){this.kuTitle=t,this.kuCourseId=e,this.transTitle=r,this.transCourseId=i,this.credits=s,this.college=n}var r={},s=null
r.searchByCollege=function(t,r,n){var a="https://okras.kettering.edu/kuapps/apex_apps.transfer_art_pkg.get_json_ces_credits?as_sbgi="+t,o=[]
s=$.ajax({url:a,type:"GET",dataType:"html",success:function(n){var a=JSON.parse(n).entries,l=function(t,e){return t.kucourse<e.kucourse?-1:t.kucourse>e.kucourse?1:t.kucoursetitle<e.kucoursetitle?-1:t.kucoursetitle>e.kucoursetitle?1:0}
a.sort(l)
for(var d=0,h=0;h<a.length;h++){var c,u,m,f,p,v,g,x,$,b,y=a[h]
"Y"==y.transferableflag&&(c=y.kucoursetitle.trim(),u=y.kucourse.trim(),m=y.trnscrse.trim(),f=y.trnscrsetitle.trim(),p=y.credits.trim(),g=y.institution.replace(t,"").trim(),x=t,v=new e(g,x,$,b),o[d++]=new i(c,u,m,f,p,v))}s=null,r(o)},error:function(t,e,i){s=null,"abort"!=e&&n(i)}})},r.searchByCourseId=function(t,r,n,a,o){var l="https://okras.kettering.edu/kuapps/apex_apps.transfer_art_pkg.get_json_transferable_courses?as_state=ALL&as_subject="+encodeURIComponent(t.toUpperCase())+"&as_course="+encodeURIComponent(r),d=[]
s=$.ajax({url:l,type:"GET",dataType:"html",success:function(n){var o=JSON.parse(n).transfercourses,l=function(t,e){return t.course_state<e.course_state?-1:t.course_state>e.course_state?1:t.college<e.college?-1:t.college>e.college?1:t.course_title<e.course_title?-1:t.course_title>e.course_title?1:0}
o.sort(l)
for(var h=0;h<o.length;h++){var c,u,m,f,p,v,g,x,$,b,y=o[h]
u=t.toUpperCase()+"-"+r,m=y.course,f=y.course_title,g=y.college,x=y.college_code,$=y.course_city,b=y.course_state,v=new e(g,x,$,b),d[h]=new i(c,u,m,f,p,v)}s=null,a(d)},error:function(t,e,i){s=null,"abort"!=e&&o(i)}})},r.getColleges=function(t,i){var r="https://okras.kettering.edu/kuapps/apex_apps.transfer_art_pkg.get_json_ces_colleges",s=[]
$.ajax({url:r,type:"GET",dataType:"html",success:function(i){for(var r=JSON.parse(i).entries,n=0;n<r.length;n++){var a=r[n]
s[n]=new e(a.stvsbgi_desc,a.stvsbgi_code)}t(s)},error:function(t){i(t)}})},r.abort=function(){null!=s&&(s.abort(),s=null)},t.Transfer=r}(KU)
